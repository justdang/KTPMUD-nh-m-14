<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Xác Thực Email</title>
  <meta name="description" content="Trang xác thực email">
  <!-- Fonts & Bootstrap -->
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    :root { --primary-color: #AA261B; }
    body {
      font-family: 'Open Sans', sans-serif;
      background-color: #d7d5d5c4;
      display: flex; align-items: center; justify-content: center;
      min-height: 100vh; margin: 0; padding: 0;
    }
    .verification-container {
      background-color: white;
      border-radius: 15px;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
      padding: 30px;
      max-width: 450px;
      margin: 0 auto;
      text-align: center;
    }
    .verification-title {
      margin-bottom: 30px;
      color: var(--primary-color);
      font-weight: 700;
    }
    .verification-message {
      margin-bottom: 25px;
      color: #555;
      line-height: 1.6;
    }
    .btn {
      padding: 12px 30px;
      border-radius: 50px;
      font-weight: 600;
      font-size: 16px;
      margin: 10px 5px;
      transition: all 0.3s;
    }
    .btn-primary {
      background-color: var(--primary-color);
      border-color: var(--primary-color);
      color: white;
    }
    .btn-primary:hover {
      opacity: 0.9;
      transform: translateY(-2px);
      background-color: var(--primary-color);
      border-color: var(--primary-color);
    }
    .btn-outline-secondary {
      border: 1px solid #ccc;
      color: #555;
    }
    .btn-outline-secondary:hover {
      background-color: #f5f5f5;
      transform: translateY(-2px);
    }
    .email-icon {
      color: var(--primary-color);
      font-size: 60px;
      margin-bottom: 20px;
    }
    .status-message {
      margin-top: 20px;
      padding: 10px;
      border-radius: 8px;
      font-size: 14px;
      display: none;
    }
    .status-success {
      background-color: #d4edda;
      color: #155724;
    }
    .status-error {
      background-color: #f8d7da;
      color: #721c24;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="row justify-content-center align-items-center w-100">
      <div class="col-md-6 col-lg-5 col-xl-4">
        <div class="verification-container">
          <div class="email-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="currentColor" viewBox="0 0 16 16">
              <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"/>
            </svg>
          </div>
          <h2 class="verification-title">Xác Thực Email</h2>
          <p class="verification-message">Chúng tôi đã gửi email xác thực đến địa chỉ email của bạn.<br>Vui lòng kiểm tra hộp thư và click vào liên kết xác thực để hoàn tất việc đăng ký.</p>
          
          <div class="status-message" id="statusMessage"></div>
          
          <button class="btn btn-primary" onclick="resendVerificationEmail()">Gửi lại email xác thực</button>
          <button class="btn btn-outline-secondary" onclick="logout()">Hủy đăng ký</button>
          <!--thêm phần API sau khi xác nhận email đã xác thực thì sang phần member register-->
        </div>
      </div>
    </div>
  </div>

  <script src="js/auth.js"></script>
  <script>
    window.onload = function() {
      checkVerification();
    };
    
    function resendVerificationEmail() {
      const statusMessage = document.getElementById('statusMessage');
      statusMessage.textContent = 'Đang gửi lại email xác thực...';
      statusMessage.className = 'status-message';
      statusMessage.style.display = 'block';
      
      try {
        // Gọi hàm gửi lại email xác thực từ auth.js
        resendVerificationEmail()
          .then(() => {
            statusMessage.textContent = 'Email xác thực đã được gửi lại. Vui lòng kiểm tra hộp thư của bạn.';
            statusMessage.classList.add('status-success');
          })
          .catch(error => {
            statusMessage.textContent = 'Không thể gửi lại email: ' + error.message;
            statusMessage.classList.add('status-error');
          });
      } catch (error) {
        statusMessage.textContent = 'Đã xảy ra lỗi: ' + error.message;
        statusMessage.classList.add('status-error');
      }
    }
    
    function checkVerification() {
      // Hàm kiểm tra trạng thái xác thực
      // Sẽ được triển khai trong auth.js
    }
  </script>
</body>
</html>